var T=Object.defineProperty;var w=(e,t,d)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[t]=d;var $=(e,t,d)=>(w(e,typeof t!="symbol"?t+"":t,d),d);import{d as f,_ as k,o as n,c as i,a,b as M,w as D,e as b,t as o,T as S,F as u,r as v,f as h,g as P,h as A,i as L,z as N,j,k as B,s as q,l as y,u as z,m as F,n as V,p as I,q as H,v as K}from"./index.1652864709074.js";import{u as E}from"./image.1652864709074.js";const W=f({props:{data:{type:Object,required:!0},store:{type:Object,required:!0}},setup(){const{imageRef:e,clickImageRef:t,imageChange:d}=E();return{rightData:["id","name","username","phone"],imageRef:e,clickImageRef:t,imageChange:d}}}),Y={class:"wrapper"},G={class:"image_container"},J=["src"],Q={class:"right_data_container"},X={class:"data_name"},Z={class:"data_value"},x={class:"bottom_data_container"},ee={class:"data_item"},ae={class:"data_name"},se={class:"data_value"},te={class:"data_item"},oe={class:"data_name"},ne={class:"data_value"},de={class:"data_item"},ie={class:"data_name"},le={class:"data_value"},ce={class:"data_item"},re={class:"data_name"},_e={class:"data_value"},me={class:"button_container"};function ue(e,t,d,c,r,_){return n(),i("div",Y,[a("input",{type:"file",ref:"imageRef",accept:"image/*",onChange:t[0]||(t[0]=(...s)=>e.imageChange&&e.imageChange(...s))},null,544),a("div",G,[M(S,{name:"fade",mode:"out-in"},{default:D(()=>[e.data.image?(n(),i("img",{src:e.data.image,key:e.data.id,class:"image",onClick:t[1]||(t[1]=s=>e.clickImageRef(e.data.id))},null,8,J)):(n(),i("div",{key:1,class:"image",onClick:t[2]||(t[2]=b(s=>e.clickImageRef(e.data.id),["self"]))},o(e.$t("CLICK_TO_UPDATE_PHOTO")),1))]),_:1})]),a("div",Q,[(n(!0),i(u,null,v(e.rightData,(s,l)=>(n(),i("div",{class:"data_item",key:l},[a("div",X,o(e.$t(s.toUpperCase())),1),a("div",Z,o(e.data[s]),1)]))),128))]),a("div",x,[a("div",ee,[a("div",ae,o(e.$t("EMAIL")),1),a("div",se,o(e.data.email),1)]),a("div",te,[a("div",oe,o(e.$t("WEBSITE")),1),a("div",ne,o(e.data.website),1)]),a("div",de,[a("div",ie,o(e.$t("ADDRESS")),1),a("div",le,o(e.data.address.city)+", "+o(e.data.address.street)+", "+o(e.data.address.suite)+", "+o(e.data.address.zipcode),1)]),a("div",ce,[a("div",re,o(e.$t("COMPANY")),1),a("div",_e,o(e.data.company.name),1)])]),a("div",me,[a("button",{class:"success",onClick:t[3]||(t[3]=b(s=>e.$emit("destroy"),["self"]))},o(e.$t("CLOSE")),1)])])}var ve=k(W,[["render",ue],["__scopeId","data-v-5c9754b6"]]);const pe=f({props:{modals:{type:Object},store:{type:Object},destroyModals:{type:Function}},components:{MUserDetail:ve},setup(e){const t=e.modals,d=e.store,c=e.destroyModals,r=h(t);function _(s){const l=r.value.findIndex(m=>m.id===s);r.value.splice(l,1),r.value.length===0&&c()}return{modals:r,storeProp:d,destroy:_}}}),he={class:"modal_backdrop"};function ge(e,t,d,c,r,_){return n(),i("div",he,[(n(!0),i(u,null,v(e.modals,s=>(n(),P(A(s.modalName),{store:e.storeProp,data:s.data,key:s.id,class:"component",onDestroy:l=>e.destroy(s.id),onCallback:s.callback},null,8,["store","data","onDestroy","onCallback"]))),128))])}var $e=k(pe,[["render",ge],["__scopeId","data-v-78196272"]]);class ye{constructor(){$(this,"modals");$(this,"app");this.modals=h([]),this.app=null}userDetail(t,d){const c="MUserDetail";this.create(t,c,d)}create(t,d,c){var l;const _={id:new Date().getTime(),data:t,callback:c,modalName:d},s=L({legacy:!1,locale:(l=localStorage.getItem("locale"))!=null?l:"en-US",fallbackLocale:"en-US",messages:{"zh-TW":N,"en-US":j}});if(this.modals.value.push(_),this.modals.value.length===1){const m=this.modals,p=document.createElement("div"),g=this.destroyModals.bind(this);this.app=B($e,{modals:m,store:q,destroyModals:g}),this.app.use(s),p.id="modalElement",document.body.appendChild(p),this.app.mount(p)}}destroyModals(){const t=document.body.querySelector("#modalElement");this.app.unmount(),document.body.removeChild(t)}}var fe=new ye;const ke=f({setup(){const e=h(!0),t=h(),d=y(()=>m.isMobile),c=y(()=>p["data/getUsers"]),r=y(()=>d.value?["id","name"]:["id","name","username","email","phone","website"]),{imageRef:_,clickImageRef:s,imageChange:l}=E(),{state:m,getters:p,dispatch:g}=z(),{setScrollTarget:R}=V();F(async()=>{await g("data/getUsers"),R(t.value),setTimeout(()=>{e.value=!1},750)});function U(O){fe.userDetail(O)}return{users:c,loading:e,itemList:r,imageRef:_,isMobile:d,elementContainerRef:t,clickImageRef:s,imageChange:l,userDetail:U}}}),C=e=>(H("data-v-2725074c"),e=e(),K(),e),Ce={class:"element_container",ref:"elementContainerRef"},be={class:"image_container"},Ie=["src","onClick"],Me=["onClick"],De={class:"data_container"},Se={class:"data_name"},Ee={class:"data_value"},Re={key:0,class:"data_item"},Ue={class:"data_name"},Oe={class:"data_value"},Te={key:1,class:"data_item"},we={class:"data_name"},Pe={class:"data_value"},Ae=["onClick"],Le=C(()=>a("div",{class:"image_container"},[a("div",{class:"image_skeleton"})],-1)),Ne={class:"data_container"},je=C(()=>a("div",{class:"data_name_skeleton"},null,-1)),Be=C(()=>a("div",{class:"data_value"},null,-1)),qe=[je,Be];function ze(e,t,d,c,r,_){return n(),i("div",Ce,[e.loading?(n(),i(u,{key:1},v(5,s=>a("div",{class:"element",key:s},[Le,a("div",Ne,[(n(),i(u,null,v(9,l=>a("div",{class:"data_item",key:l},qe)),64))])])),64)):(n(),i(u,{key:0},[a("input",{type:"file",ref:"imageRef",accept:"image/*",onChange:t[0]||(t[0]=(...s)=>e.imageChange&&e.imageChange(...s))},null,544),(n(!0),i(u,null,v(e.users,s=>(n(),i("div",{class:"element",key:s.id},[a("div",be,[M(S,{name:"fade",mode:"out-in"},{default:D(()=>[s.image?(n(),i("img",{src:s.image,key:s.image,class:"image",onClick:l=>e.clickImageRef(s.id)},null,8,Ie)):(n(),i("div",{key:1,class:"image",onClick:l=>e.clickImageRef(s.id)},o(e.$t("CLICK_TO_UPDATE_PHOTO")),9,Me))]),_:2},1024)]),a("div",De,[(n(!0),i(u,null,v(e.itemList,(l,m)=>(n(),i("div",{class:"data_item",key:m},[a("div",Se,o(e.$t(l.toUpperCase())),1),a("div",Ee,o(s[l]),1)]))),128)),e.isMobile?I("",!0):(n(),i("div",Re,[a("div",Ue,o(e.$t("COMPANY")),1),a("div",Oe,o(s.company.name),1)])),e.isMobile?I("",!0):(n(),i("div",Te,[a("div",we,o(e.$t("ADDRESS")),1),a("div",Pe,o(s.address.city)+", "+o(s.address.street),1)])),a("div",{class:"data_item clickable",onClick:l=>e.userDetail(s)},o(e.$t("SEE_MORE")),9,Ae)])]))),128))],64))],512)}var Ke=k(ke,[["render",ze],["__scopeId","data-v-2725074c"]]);export{Ke as default};
