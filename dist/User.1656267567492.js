var R=Object.defineProperty;var U=(e,n,s)=>n in e?R(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s;var u=(e,n,s)=>(U(e,typeof n!="symbol"?n+"":n,s),s);import{d as y,_ as w,o,c as d,a,b as C,w as I,e as x,t as i,T as M,F as p,r as f,f as v,g as O,h as T,i as z,z as P,j as A,k as L,s as N,l as h,u as B,m as q,n as $,p as F,q as V}from"./index.1656267567492.js";import{u as j,a as H}from"./scroll.1656267567492.js";const K=y({props:{data:{type:Object,required:!0},store:{type:Object,required:!0}},setup(){const{imageRef:e,clickImageRef:n,imageChange:s}=j();return{rightData:["id","name","username","phone"],imageRef:e,clickImageRef:n,imageChange:s}}}),W={class:"wrapper"},Y={class:"image_container"},G=["src"],J={class:"right_data_container"},Q={class:"data_name"},X={class:"data_value"},Z={class:"bottom_data_container"},ee={class:"data_item"},ae={class:"data_name"},te={class:"data_value"},ne={class:"data_item"},ie={class:"data_name"},oe={class:"data_value"},se={class:"data_item"},de={class:"data_name"},re={class:"data_value"},le={class:"data_item"},ce={class:"data_name"},me={class:"data_value"},_e={class:"button_container"};function pe(e,n,s,l,c,m){return o(),d("div",W,[a("input",{type:"file",ref:"imageRef",accept:"image/*",onChange:n[0]||(n[0]=(...t)=>e.imageChange&&e.imageChange(...t))},null,544),a("div",Y,[C(M,{name:"fade",mode:"out-in"},{default:I(()=>[e.data.image?(o(),d("img",{src:e.data.image,key:e.data.id,class:"image",onClick:n[1]||(n[1]=t=>e.clickImageRef(e.data.id))},null,8,G)):(o(),d("div",{key:1,class:"image",onClick:n[2]||(n[2]=x(t=>e.clickImageRef(e.data.id),["self"]))},i(e.$t("CLICK_TO_UPDATE_PHOTO")),1))]),_:1})]),a("div",J,[(o(!0),d(p,null,f(e.rightData,(t,r)=>(o(),d("div",{class:"data_item",key:r},[a("div",Q,i(e.$t(t.toUpperCase())),1),a("div",X,i(e.data[t]),1)]))),128))]),a("div",Z,[a("div",ee,[a("div",ae,i(e.$t("EMAIL")),1),a("div",te,i(e.data.email),1)]),a("div",ne,[a("div",ie,i(e.$t("WEBSITE")),1),a("div",oe,i(e.data.website),1)]),a("div",se,[a("div",de,i(e.$t("ADDRESS")),1),a("div",re,i(`${e.data.address.city},
                        ${e.data.address.street},
                        ${e.data.address.suite},
                        ${e.data.address.zipcode}`),1)]),a("div",le,[a("div",ce,i(e.$t("COMPANY")),1),a("div",me,i(e.data.company.name),1)])]),a("div",_e,[a("button",{class:"success",onClick:n[3]||(n[3]=x(t=>e.$emit("destroy"),["self"]))},i(e.$t("CLOSE")),1)])])}var fe=w(K,[["render",pe],["__scopeId","data-v-cb66ab30"]]);const be=y({props:{modals:{type:Object},store:{type:Object},destroyModals:{type:Function}},components:{MUserDetail:fe},setup(e){const n=e.modals,s=e.store,l=e.destroyModals,c=v(n);function m(t){const r=c.value.findIndex(_=>_.id===t);c.value.splice(r,1),c.value.length===0&&l()}return{modals:c,storeProp:s,destroy:m}}}),ve={class:"modal_backdrop"};function ge(e,n,s,l,c,m){return o(),d("div",ve,[(o(!0),d(p,null,f(e.modals,t=>(o(),O(T(t.modalName),{store:e.storeProp,data:t.data,key:t.id,class:"component",onDestroy:r=>e.destroy(t.id),onCallback:t.callback},null,40,["store","data","onDestroy","onCallback"]))),128))])}var ue=w(be,[["render",ge],["__scopeId","data-v-3e3fffaa"]]);class he{constructor(){u(this,"modals");u(this,"app");this.modals=v([]),this.app=null}userDetail(n,s){const l="MUserDetail";this.create(n,l,s)}create(n,s,l){var r;const m={id:new Date().getTime(),data:n,callback:l,modalName:s},t=z({legacy:!1,locale:(r=localStorage.getItem("locale"))!=null?r:"en-US",fallbackLocale:"en-US",messages:{"zh-TW":P,"en-US":A}});if(this.modals.value.push(m),this.modals.value.length===1){const _=this.modals,b=document.createElement("div"),g=this.destroyModals.bind(this);this.app=L(ue,{modals:_,store:N,destroyModals:g}),this.app.use(t),b.id="modalElement",document.body.appendChild(b),this.app.mount(b)}}destroyModals(){const n=document.body.querySelector("#modalElement");this.app.unmount(),document.body.removeChild(n)}}var ye=new he;const we=y({setup(){const e=v(!0),n=v(),s=h(()=>_.isMobile),l=h(()=>b["data/getUsers"]),c=h(()=>s.value?["id","name"]:["id","name","username","email","phone","website"]),{imageRef:m,clickImageRef:t,imageChange:r}=j(),{state:_,getters:b,dispatch:g}=B(),{setScrollTarget:D}=H();q(async()=>{await g("data/getUsers"),D(n.value),setTimeout(()=>{e.value=!1},750)});function S(E){ye.userDetail(E)}return{users:l,loading:e,itemList:c,imageRef:m,isMobile:s,elementContainerRef:n,clickImageRef:t,imageChange:r,userDetail:S}}}),k=e=>(F("data-v-701b9c42"),e=e(),V(),e),ke={class:"element_container",ref:"elementContainerRef"},xe={class:"image_container"},$e=["src","onClick"],Ce=["onClick"],Ie={class:"data_container"},Me={class:"data_name"},je={class:"data_value"},De={key:0,class:"data_item"},Se={class:"data_name"},Ee={class:"data_value"},Re={key:1,class:"data_item"},Ue={class:"data_name"},Oe={class:"data_value"},Te=["onClick"],ze=k(()=>a("div",{class:"image_container"},[a("div",{class:"image_skeleton"})],-1)),Pe={class:"data_container"},Ae=k(()=>a("div",{class:"data_name_skeleton"},null,-1)),Le=k(()=>a("div",{class:"data_value"},null,-1)),Ne=[Ae,Le];function Be(e,n,s,l,c,m){return o(),d("main",ke,[e.loading?(o(),d(p,{key:1},f(5,t=>a("div",{class:"element",key:t},[ze,a("div",Pe,[(o(),d(p,null,f(9,r=>a("div",{class:"data_item",key:r},Ne)),64))])])),64)):(o(),d(p,{key:0},[a("input",{type:"file",ref:"imageRef",accept:"image/*",onChange:n[0]||(n[0]=(...t)=>e.imageChange&&e.imageChange(...t))},null,544),(o(!0),d(p,null,f(e.users,t=>(o(),d("div",{class:"element",key:t.id},[a("figure",xe,[C(M,{name:"fade",mode:"out-in"},{default:I(()=>[t.image?(o(),d("img",{src:t.image,key:t.image,class:"image",onClick:r=>e.clickImageRef(t.id)},null,8,$e)):(o(),d("figcaption",{key:1,class:"image",onClick:r=>e.clickImageRef(t.id)},i(e.$t("CLICK_TO_UPDATE_PHOTO")),9,Ce))]),_:2},1024)]),a("div",Ie,[(o(!0),d(p,null,f(e.itemList,(r,_)=>(o(),d("div",{class:"data_item",key:_},[a("div",Me,i(e.$t(r.toUpperCase())),1),a("div",je,i(t[r]),1)]))),128)),e.isMobile?$("",!0):(o(),d("div",De,[a("div",Se,i(e.$t("COMPANY")),1),a("div",Ee,i(t.company.name),1)])),e.isMobile?$("",!0):(o(),d("div",Re,[a("div",Ue,i(e.$t("ADDRESS")),1),a("div",Oe,i(t.address.city)+", "+i(t.address.street),1)])),a("div",{class:"data_item clickable",onClick:r=>e.userDetail(t)},i(e.$t("SEE_MORE")),9,Te)])]))),128))],64))],512)}var He=w(we,[["render",Be],["__scopeId","data-v-701b9c42"]]);export{He as default};
